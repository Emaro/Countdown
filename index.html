<!DOCTYPE html>
<html lang="en">

<meta charset="UTF-8">
<title>Countdown</title>

<h1>Countdown</h1>

<form action="">
    <input id="hh" value="0" autofocus>
    <input id="mm" value="25">
    <input id="ss" value="0">
    <input type="button" value="Start" onclick="startCountdown()">
</form>

<p id="output"></p>

<script>

    var targetTime;
    var timer;
    var ms;

    function startCountdown() {
        
        timer = null;

        targetTime = new Date().getTime();
        
        ms = parseInt(document.getElementById("hh").value) * 60 * 60 * 1000;
        ms += parseInt(document.getElementById("mm").value) * 60 * 1000;
        ms += parseInt(document.getElementById("ss").value) * 1000;

        targetTime += ms;
        
        targetTime = new Date(targetTime);

        countToZero();

        timer = setInterval(countToZero, 100);
    }

    function countToZero() {

        var dif = targetTime - new Date(); // ms

        var saveDif = dif;

        dif /= 1000; // s
        var sec = Math.floor(dif % 60);
        dif /= 60; // m
        var min = Math.floor(dif % 60);
        dif /= 60 // h;
        var hour = Math.floor(dif);

        document.getElementById("output").innerHTML = pad(hour) + ":" + pad(min) + ":" + pad(sec);

        if (saveDif <= 100) {
            dif = 0;
            document.getElementById("output").innerHTML = pad(dif) + ":" + pad(dif) + ":" + pad(dif);
            notifyMe();
            clearInterval(timer);
        }
    }

    function pad(n) {
        return (n < 10) ? ("0" + n) : n;
    }

  

    // request permission on page load
    document.addEventListener('DOMContentLoaded', function () {
        if (!Notification) {
            alert('Desktop notifications not available in your browser.');
            return;
        }

        if (Notification.permission !== "granted")
            Notification.requestPermission();
    });

    function notifyMe() {
        if (Notification.permission !== "granted")
            // Notification.requestPermission();
            alert("Countdown finished");
        else {
            
            var notification = new Notification('Countdown finished', {
                icon: './favicon-96x96.png',
                body: "",
            });

            notification.onclick = function () {
                window.open("");
            };

        }

    }
</script>
</html>